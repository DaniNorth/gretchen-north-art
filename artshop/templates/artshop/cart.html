{% extends "base.html" %}
{% block title %}Your Cart{% endblock %}

{% block content %}
<div class="max-w-2xl mx-auto mt-10">
  <h1 class="text-3xl font-bold mb-6">Shopping Cart</h1>

  {% if user.is_authenticated %}
    {% if items %}
      <ul class="space-y-4">
        {% for item in items %}
          <li class="border p-4 rounded shadow-sm">
            <div class="flex justify-between">
              <div>
                <h2 class="text-lg font-semibold">{{ item.artwork.title }}</h2>
                <p class="text-sm text-gray-600">${{ item.artwork.price }} Ã— {{ item.quantity }}</p>
              </div>
              <p class="text-right text-lg font-bold">${{ item.artwork.price|floatformat:2|add:"0"|floatformat:2 }}</p>
            </div>
          </li>
        {% endfor %}
      </ul>

      <div class="mt-6 text-right">
        <p class="text-xl font-bold">Total: ${{ total|floatformat:2 }}</p>
        <a href="{% url 'checkout' %}" class="mt-4 inline-block bg-button hover:bg-button-hover text-white font-semibold py-2 px-6 rounded">
          Proceed to Checkout
        </a>
      </div>
    {% else %}
      <p>Your cart is empty.</p>
    {% endif %}
  {% else %}
    <p class="text-lg">
      Please <a href="{% url 'account_login' %}" class="text-link hover:text-link-hover font-semibold">log in</a> to view your cart.
    </p>
  {% endif %}
</div>
{% endblock %}